import{_ as t,u as e,p as a,d as l,r as o,a as i,c as s,b as r,l as n,j as c}from"./vendor.18b10b7e.js";const d={methods:{next(){this.$axios.get("/calling/closeOrder/"+this.tableData[0].o_id).then((t=>{this.getQueue()})).catch((e=>{console.log("login err",e),t.error("读取失败"+e)}))},call(){this.$axios.get("/merchant/call?m_id="+this.$store.state.users+"&phone="+this.tableData[0].c_id).then((t=>{})).catch((e=>{console.log("login err",e),t.error("读取失败"+e)}))},menu(){this.$router.push({name:"Order",params:{c_id:this.tableData[0].c_id,o_id:this.tableData[0].o_id}})},page(e){const a=this;this.$axios.get("/calling/findAll/"+e+"/6/"+this.$store.state.users).then((t=>{a.tableData=t.data})).catch((e=>{console.log("login err",e),t.error("读取失败"+e)}))},getQueue(){this.$axios.get("/calling/findAll/1/6/"+this.$store.state.users).then((t=>{this.tableData=t.data,this.total=t.data[0].total})).catch((e=>{console.log("login err",e),t.error("读取失败"+e)}))}},created(){e(),this.getQueue()},data:()=>({p:1,c:6,total:null,tableData:[{m_id:"",c_id:""}]})},h=n();a("data-v-e3c3c5b6");const p={class:"total"},u={class:"btn"},g=c("点单"),b={class:"btn"},_=c("叫号"),m={class:"btn"};l();const f=h(((t,e,a,l,n,c)=>{const d=o("el-button"),f=o("el-header"),y=o("el-table-column"),x=o("el-table"),v=o("el-pagination"),D=o("el-main"),$=o("el-container");return i(),s("div",p,[r($,{style:{height:"100%"}},{default:h((()=>[r(f,{height:"200px"},{default:h((()=>[r("div",null,[r("div",u,[r(d,{type:"primary",circle:"",style:{"font-size":"40px"},icon:"el-icon-document",onClick:e[1]||(e[1]=t=>c.menu())},{default:h((()=>[g])),_:1})]),r("div",b,[r(d,{type:"primary",circle:"",style:{"font-size":"40px"},icon:"el-icon-phone",onClick:e[2]||(e[2]=t=>c.call())},{default:h((()=>[_])),_:1})]),r("div",m,[r(d,{type:"primary",circle:"",style:{"font-size":"60px"},icon:"el-icon-d-arrow-right",onClick:e[3]||(e[3]=t=>c.next())})])])])),_:1}),r(D,null,{default:h((()=>[r(x,{data:n.tableData,stripe:"",style:{width:"100%"}},{default:h((()=>[r(y,{prop:"o_id",label:"排队号"}),r(y,{prop:"c_phone",label:"电话"}),r(y,{prop:"o_start_time",label:"开始排队时间"}),r(y,{prop:"wait_time",label:"等待时间(分钟)"})])),_:1},8,["data"]),r(v,{background:"",layout:"prev, pager, next","page-size":"6",total:n.total,onCurrentChange:c.page,style:{"margin-left":"30%"},"hide-on-single-page":"true"},null,8,["total","onCurrentChange"])])),_:1})])),_:1})])}));d.render=f,d.__scopeId="data-v-e3c3c5b6";export{d as default};
